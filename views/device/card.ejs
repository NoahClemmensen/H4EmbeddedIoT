<div>
    <div class="card" style="width: fit-content;">
        <div class="card-body d-flex flex-column" style="min-width: 300px">
            <div class="d-flex flex-column mb-auto">
                <div class="d-flex align-items-center">
                    <h5 class="card-title mb-0 me-4"><%- device.name %></h5>
                    <span class="ms-auto" style="opacity: .35"><em>SN: <%- device.serial %></em></span>
                </div>

                <div class="d-flex align-items-center mb-2">
                    <h6 class="card-subtitle text-body-secondary me-auto"><%- device.location %></h6>
                    <span class="ms-auto" style="opacity: .35"><em><%- device.temperature %> <%- settings.fahrenheit ? 'F°' : 'C°' %> <%- device.humidity %>%</em></span>
                </div>

                <p class="card-text mb-0"><%- device.description %></p>
            </div>
            <div class="mt-auto d-flex align-content-between w-100">
                <a href="#" class="card-link" data-bs-toggle="modal" data-bs-target="#editDeviceModal_<%- device.serial %>">Edit</a>
                <a href="#" class="card-link" data-bs-toggle="modal" data-bs-target="#deleteDeviceModal_<%- device.serial %>">Delete</a>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <form class="edit_device" data-sn="<%- device.serial %>">
        <div class="modal fade" id="editDeviceModal_<%- device.serial %>" tabindex="-1" aria-labelledby="editDeviceModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="editDeviceModalLabel">Edit sensor</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="mb-3">
                            <label for="editName" class="form-label">Name</label>
                            <input type="text" class="form-control" required id="editName" placeholder="E.g Gaia 300" value="<%- device.name %>">
                        </div>
                        <div class="mb-3">
                            <label for="editLocation" class="form-label">Location</label>
                            <input type="text" class="form-control" required id="editLocation" placeholder="E.g Living room" value="<%- device.location %>">
                        </div>
                        <div class="mb-3">
                            <label for="editDesc" class="form-label">Description</label>
                            <input type="text" class="form-control" id="editDesc" placeholder="E.g Next to router" value="<%- device.description %>">
                        </div>
                    </div>
                    <div class="modal-footer d-flex justify-content-start">
                        <span class="me-auto error-message" style="color: var(--bs-danger);"></span>
                        <button type="button" class="btn btn-secondary ms-auto" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save</button>
                    </div>
                </div>
            </div>
        </div>
    </form>

    <form class="delete_device" data-sn="<%- device.serial %>">
        <div class="modal fade" id="deleteDeviceModal_<%- device.serial %>" tabindex="-1" aria-labelledby="deleteDeviceModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="deleteDeviceModalLabel">Delete sensor</h1>
                    </div>
                    <div class="modal-footer d-flex justify-content-start">
                        <span class="me-auto error-message" style="color: var(--bs-danger);"></span>
                        <button type="button" class="btn btn-secondary ms-auto" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-danger">Delete</button>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>
